import{u as f,v as g,r as x,j as e,aa as y,H as u,a as j,ah as N,D as p,ai as D,U as F,aj as v,c as C,ak as w}from"./index-e25e605d.js";const o=({title:t,content:s,className:r})=>e.jsxs("div",{className:`${r} grid grid-cols-2 items-center justify-center gap-2`,children:[e.jsxs("span",{className:"text-end",children:[t," :"]}),e.jsx("span",{children:s})]}),E=({type:t,data:s})=>{const r=f(c=>c.nowUser),{setValue:n}=g();return x.useEffect(()=>{n("DeptId",r.body.DeptId),n("CreateId",r.body.EmpId)},[r,n]),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx(o,{title:"表單號碼",content:t==="addForm"?"auto":s==null?void 0:s.id}),e.jsx(o,{title:"建立日期",content:t==="addForm"?y(new Date):s==null?void 0:s.createDate}),e.jsx(o,{title:"簽核狀態",content:t==="addForm"?"未簽核":s==null?void 0:s.status}),e.jsx(o,{title:"公司別",content:t==="addForm"?r.body.ResourcesName:s==null?void 0:s.company}),e.jsx(o,{title:"部門",content:t==="addForm"?r.body.DeptName:s==null?void 0:s.dept}),e.jsx(o,{title:"建檔人員",content:t==="addForm"?r.body.EmpName:s==null?void 0:s.EmpName})]})},T=({type:t,main:s,sub:r,remove:n,index:c})=>{var m;const d=(m=u())==null?void 0:m.color,[i,l]=x.useState(!0),h=j();function a(){h(D(c)),n&&n()}return e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"header flex justify-between",children:[s,e.jsxs("div",{className:"flex",children:[e.jsxs("button",{type:"button",className:"flex items-center justify-center gap-1",style:{color:d.blue},onClick:()=>{l(b=>!b)},children:[e.jsx("span",{style:{rotate:i?"0deg":".5turn"},children:e.jsx(N,{color:d.blue})}),"詳細資料"]}),t==="addForm"&&e.jsx("button",{type:"button",onClick:a,children:e.jsx(p,{size:"1.25rem"})})]})]}),e.jsx("div",{className:"bottom",style:{height:i?"auto":0,overflowY:"hidden",transition:"height 1s ease"},children:e.jsx("div",{className:"mt-2 border-t-4 pt-4",children:r})})]})},S=({data:t,index:s})=>{const r=j();return t.map((n,c)=>e.jsxs("tr",{children:[e.jsx("td",{children:c+1}),e.jsx("td",{children:n.district}),e.jsx("td",{children:n.city}),e.jsx("td",{children:n.purpose}),e.jsx("td",{children:n.cus}),e.jsx("td",{children:n.hotel}),e.jsx("td",{children:n.PS}),e.jsx("td",{className:"cursor-pointer",onClick:()=>{r(w(s+1))},children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(p,{size:"1.25rem"})})})]},c))},I=({data:t})=>t.map((s,r)=>e.jsxs("tr",{children:[e.jsx("td",{children:r+1}),e.jsx("td",{children:s.data.district}),e.jsx("td",{children:s.data.city}),e.jsx("td",{children:s.data.purpose}),e.jsx("td",{children:s.data.cus}),e.jsx("td",{children:s.data.hotel}),e.jsx("td",{children:s.data.PS})]},r)),A=({type:t,data:s,index:r})=>{var a;const n=(a=u())==null?void 0:a.color,[c]=F("newDetail"),[d,i]=x.useState(!1),l=s==null?void 0:s.data;x.useEffect(()=>{l&&l.length!==0?i(!0):i(!1)},[l]);const h=j();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"title flex items-center justify-between px-4 py-2",style:{backgroundColor:n.sectionHeader,color:n.white},children:[e.jsx("p",{children:"出差地點明細"}),t==="addForm"&&e.jsx("button",{type:"button",className:"px-4 py-1 ring-1",style:{borderColor:n.white},onClick:()=>{h(v((r||0)+1)),c("on")},children:"+新增"})]}),e.jsx(C,{children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("td",{children:"項次"}),e.jsx("td",{children:"行政區"}),e.jsx("td",{children:"城市"}),e.jsx("td",{children:"出差事由"}),e.jsx("td",{children:"客戶名稱"}),e.jsx("td",{children:"住宿飯店 or 地點"}),e.jsx("td",{children:"備註"}),t==="addForm"&&e.jsx("td",{children:"刪除"})]})}),e.jsx("tbody",{children:t==="addForm"?d?e.jsx(S,{data:l,index:r}):e.jsx("tr",{children:e.jsx("td",{colSpan:8,children:"no data"})}):e.jsx(I,{data:s})})]})})]})},H=({children:t})=>e.jsx("div",{className:"rounded-md px-8 py-4 ring-2 ring-gray-300",children:t});export{H as B,T as C,A as D,E as I};
