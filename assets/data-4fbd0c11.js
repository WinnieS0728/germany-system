import{d as o,t as p,x as f,f as w}from"./index-64ebcfb1.js";const y=(i,u)=>{function l(t){return w("%Y-%m-%d")(t)}const r=()=>{const t=[];for(let e=0;e<7;e++)t.push(l(o.offset(p(new Date(u)),e+7)));return t},d=i.map(t=>D(t)).reduce((t,e)=>t.concat(e),[]).sort((t,e)=>new Date(t.date[0]).getTime()-new Date(e.date[0]).getTime());function m(t){const e=[],n=o.count(new Date(t.startDate),new Date(t.endDate))+1;for(let a=0;a<n;a++)e.push(f(o.offset(new Date(t.startDate),a)));return e}function D(t){const e=t.data.length,n=[];for(let a=0;a<e;a++)n.push({...t,date:m(t.date),data:{...t.data[a],eventId:t.data[a].purpose}});return n}const s=r().map(t=>d.filter(e=>e.date.some(n=>n===t)).sort((e,n)=>n.date.length-e.date.length)),h=Math.max(s[0].length,s[1].length,s[2].length,s[3].length,s[4].length,s[5].length,s[6].length);function g(t){const e={id:0,date:[],data:{district:"",city:"",purpose:"",eventId:"",cus:"",hotel:"",PS:""}};return s.map(a=>a[t]?a[t]:e)}const c=[];for(let t=0;t<h;t++)c.push(g(t));return{nextWeekDays:r(),rows:c,spreadData:d}};export{y as u};
