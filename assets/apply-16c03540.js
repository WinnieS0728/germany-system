import{b as k,u as P,r as b,d as G,j as e,H as z,a as J,p as xe,f as ye,q as je,v as ge,w as be,t as De,x as R,L as de,Q as we,y as Se,z as Ce,A as Q,B as Ne,C as ve,D as Fe,k as B,N as Ie,m as ke,o as oe}from"./index-cdc06e8f.js";import{u as K,a as X,C as H,b as Ee,I as O,N as Ae,c as ue,S as Te,A as Pe,B as Le,F as Me,d as _e,P as le,e as Be}from"./index.esm-0fe4b9cd.js";import{M as me,s as Re}from"./main-a582b553.js";import{u as re,B as q,C as Ve,D as $e,a as qe,b as se,P as He,H as Oe,I as Ue,A as ze,t as ae,c as Ye}from"./index-5ba49e3c.js";import{R as W}from"./required-14b49207.js";import{u as Z,a as ee}from"./react-select-async.esm-07ce7071.js";import{M as U}from"./select-a3bc1532.js";import{D as pe,i as Y}from"./index.esm-b17f33ac.js";import{c as ce,a as T,b as ie,d as We,e as Qe,o as Ge}from"./index.esm-c3f04e89.js";import{u as Je}from"./data-3f69d374.js";import{H as Ke}from"./header-e3c01ceb.js";import"./use-isomorphic-layout-effect.browser.esm-f3ecf19c.js";const Xe=()=>{const{i18n:l,t}=k("new form",{keyPrefix:"transport"}),r=l.language,a=P(o=>o.tripDetail).body,{options:x}=Z(),{newFormRef:p}=ee(),{register:i,control:j,setValue:u}=K(),s=X({name:"tripData",control:j,defaultValue:[]}),h=a.map(o=>o.data.map(d=>d.hotel));function m(o){if(!o||!o.startDate||!o.endDate)return 0;const d=new Date(`${o.startDate}:00:00:00`),F=new Date(`${o.endDate}:00:00:00`);return G.count(d,F)+1||0}const n=b.useMemo(()=>{const o=h.map(c=>!!c.some(D=>D!==""));let d;o.some(c=>c)?d="Yes":d="No";const N=o.map((c,D)=>{if(c){const w=m(s[D])-1;return w>0?w:0}else return 0}).reduce((c,D)=>c+D,0);return{isStay:d,day:N}},[s,h]);b.useEffect(()=>{u("IsLodging",n.isStay),u("StayDays",n.day)},[n,u]);const S=b.useMemo(()=>{if(s.length===0)return 0;const o=s.map(d=>[d.startDate,d.endDate]).reduce((d,F)=>d.concat(F),[]).map(d=>new Date(d).getTime()).sort((d,F)=>d-F);return G.count(new Date(o[0]),new Date(o[o.length-1]))+1||0},[s]);return b.useEffect(()=>{u("Days",S)},[S,u]),e.jsxs("fieldset",{className:"space-y-2",children:[e.jsxs("div",{className:"transportation label-input",children:[e.jsxs("label",{children:[e.jsx(W,{}),t("transportation")," :"]}),e.jsx(H,{control:j,name:"Transport",render:({field:{onChange:o}})=>e.jsx(U.Async,{forwardRef:p.transport,options:x.transport,onChange:o,getLabelFunction:d=>r==="en"?d.ResourcesName_E:d.ResourcesName,getValueFunction:d=>d.ResourcesId,value:"ResourcesId",placeholder:t("placeholder.transportation")})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3",children:[e.jsxs("div",{className:"stay label-input justify-start",children:[e.jsxs("label",{children:[t("isStay")," :"]}),e.jsx("input",{type:"text",...i("IsLodging"),autoComplete:"off",className:"noBorder w-[5em]",readOnly:!0})]}),e.jsxs("div",{className:"stayDay label-input justify-start",children:[e.jsxs("label",{children:[t("stayDay")," :"]}),e.jsx("input",{type:"text",...i("StayDays",{valueAsNumber:!0}),autoComplete:"off",readOnly:!0,className:"noBorder w-[5em]"})]}),e.jsxs("div",{className:"totalDay label-input justify-start",children:[e.jsxs("label",{children:[t("tripDay")," :"]}),e.jsx("input",{type:"text",...i("Days",{valueAsNumber:!0}),autoComplete:"off",readOnly:!0,className:"noBorder w-[5em]"})]})]})]})},Ze=()=>{const{t:l}=k("new form",{keyPrefix:"money"}),{register:t,control:r,setValue:a}=K(),{options:x}=Z(),[p,i]=b.useState("0"),{newFormRef:j}=ee(),u=X({name:"Advance_Amount",control:r});function s(h){if(!h.target.value){i("0");return}const m=h.target.value.replace(/[^\d]/g,"")||"0";i(parseInt(m).toLocaleString())}return e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:gap-8",children:[e.jsxs("div",{className:"label-input",children:[e.jsxs("label",{children:[l("amount")," :"]}),e.jsx("input",{type:"text",className:"w-full",...t("Advance_Amount",{setValueAs:h=>h.replace(/,/g,"")}),onChangeCapture:s,autoComplete:"off",value:p,onFocusCapture:()=>{i("")},onBlur:()=>{var h;p===""&&(i("0"),a("Advance_Amount","0"),a("Curr",""),(h=j.curr.current)==null||h.clearValue())}})]}),e.jsxs("div",{className:"label-input",children:[e.jsxs("label",{children:[u!=="0"&&e.jsx(W,{}),l("curr")," :"]}),e.jsx(H,{control:r,name:"Curr",render:({field:{onChange:h}})=>e.jsx(U.Normal,{forwardRef:j.curr,options:x.curr,onChange:h,placeholder:l("placeholder.curr")})})]})]})},et=()=>{const{t:l}=k("new form",{keyPrefix:"deputy"}),{control:t}=K(),{newFormRef:r}=ee(),{options:a}=Z(),{splitName:x}=re();return e.jsxs("div",{className:"label-input",children:[e.jsxs("label",{children:[e.jsx(W,{}),l("deputy")," :"]}),e.jsx(H,{control:t,name:"Deputy",render:({field:{onChange:p}})=>e.jsx(U.Async,{forwardRef:r.deputy,onChange:p,options:a.agent,getLabelFunction:i=>x(i),getValueFunction:i=>i.EmpId,value:"EmpId",placeholder:l("placeholder.deputy")})})]})},tt=({data:l,index:t})=>{var N;const{t:r}=k("list page"),a=(N=z())==null?void 0:N.color,x=P(c=>c.time),[p,i]=b.useState(!1),[j,u]=b.useState(),[s,h]=b.useState({from:l.startDate||"",to:l.endDate||""}),{register:m,setValue:n}=K(),S=()=>e.jsx("span",{style:{display:"flex",justifyContent:"center"},children:e.jsx("p",{style:{margin:0,display:"flex",alignItems:"center"},children:"select 2 days"})});function o(c){return Y(c)?ye("%Y-%m-%d")(c):""}const d=J();function F(c){h(c),Y(c==null?void 0:c.from)&&Y(c==null?void 0:c.to)&&(n(`tripData.${t}`,{startDate:o(c.from),endDate:o(c.to)}),i(!1))}return b.useEffect(()=>{s&&s.from&&s.to&&d(xe(s))},[s,d]),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"relative flex flex-col gap-4 lg:flex-row lg:gap-8",children:[e.jsxs("div",{className:"startDate label-input flex-col items-start gap-1 space-x-2 sm:flex-row sm:items-center",children:[e.jsxs("label",{style:{whiteSpace:"nowrap"},children:[e.jsx(W,{}),r("detail.startDate")]}),e.jsx("input",{...m(`tripData.${t}.startDate`),className:"date w-full",style:{cursor:"pointer",backgroundColor:a==null?void 0:a.white,color:a==null?void 0:a.black},autoComplete:"off",value:o(s==null?void 0:s.from),onClickCapture:()=>{i(c=>!c)},readOnly:!0,placeholder:r("detail.placeholder.startDate")})]}),e.jsxs("div",{className:"endDate label-input flex-col items-start gap-1 space-x-2 sm:flex-row sm:items-center",children:[e.jsxs("label",{style:{whiteSpace:"nowrap"},children:[e.jsx(W,{}),r("detail.endDate")]}),e.jsx("input",{...m(`tripData.${t}.endDate`),className:"date w-full",style:{cursor:"pointer",backgroundColor:a==null?void 0:a.white,color:a==null?void 0:a.black},autoComplete:"off",value:o(s==null?void 0:s.to),onClickCapture:()=>{i(c=>!c)},readOnly:!0,placeholder:r("detail.placeholder.endDate")})]}),e.jsx(pe,{mode:"range",footer:e.jsx(S,{}),selected:s,onSelect:F,fromYear:2022,toYear:+x.thisYear+1,month:j,onMonthChange:u,captionLayout:"dropdown-buttons",style:{position:"absolute",top:"100%",right:0,zIndex:99,display:p?"block":"none",color:a==null?void 0:a.white},styles:{months:{backgroundColor:a==null?void 0:a.black},cell:{border:0}},modifiersStyles:{selected:{backgroundColor:a.blue},today:{textDecoration:"underLine",textUnderlineOffset:".3rem"}}})]})})},st=()=>{var j;const{t:l}=k("new form"),t=(j=z())==null?void 0:j.color,r=J(),a=P(u=>u.tripDetail),{fields:x,append:p,remove:i}=Ee({name:"tripData"});return e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsx("button",{type:"button",className:"p-0",onClick:()=>{p({startDate:"",endDate:""}),r(je())},children:e.jsx(O,{style:{backgroundColor:t.sectionHeader,color:t.white},icon:e.jsx(Ae,{}),children:l("btn.add")})})}),x.map((u,s)=>e.jsx("div",{children:e.jsx(q,{children:e.jsx(Ve,{type:"addForm",main:e.jsx(tt,{data:u,index:s}),sub:e.jsx($e,{type:"addForm",data:a.body[s],index:s}),remove:()=>{i(s)},index:s})})},u.id))]})},at=()=>{var $;const l=($=z())==null?void 0:$.color,{t}=k(["common","new form","errors","toast"]),r=P(y=>y.time),a=P(y=>y.tripDetail).body,x=P(y=>y.nowUser).body,{clearNewFormSelect:p}=ee(),i=A(),j=ge(),u=J(),{uploadFile:s}=qe(),{spreadData:h}=Je(a,r.today),[m]=se("review"),[n]=se("errors"),[S]=se("files"),o=ce().shape({DeptId:T().required("表單錯誤"),CreateId:T().required("表單錯誤"),Transport:T().required(t("newForm.transportation",{ns:"errors"})),IsLodging:T().required("表單錯誤"),StayDays:ie().required("表單錯誤"),Days:ie().required("表單錯誤"),Advance_Amount:We().required("表單錯誤"),Curr:T().when("Advance_Amount",{is:y=>y!=="0",then:()=>T().required(t("newForm.curr",{ns:"errors"})),otherwise:()=>T()}),Deputy:T().required(t("newForm.deputy",{ns:"errors"})),tripData:Qe().of(ce().shape({startDate:T().required(t("newForm.date",{ns:"errors"})),endDate:T().required(t("newForm.date",{ns:"errors"}))}))}),d=ue({criteriaMode:"all",mode:"onChange",resolver:Ge(o),defaultValues:{DeptId:x.DeptId,CreateId:x.EmpId,Transport:"",IsLodging:"No",StayDays:0,Days:0,Advance_Amount:"0",Curr:"",Deputy:"",tripData:[]}}),{control:F,handleSubmit:N,setError:c,trigger:D,formState:{errors:w,isValid:V}}=d,E=X({name:"tripData",control:F});b.useEffect(()=>{D()},[D,a,E]),b.useEffect(()=>{u(be(E))},[E,u]);function A(){const y=De(new Date(r.today)),v=G.offset(y,7),te=G.offset(y,13);return{StartDT:R(v),EndDT:R(te)}}async function M(y){const v=await Q.getCus(y,"DEU");return v==null?void 0:v[0].CustId}async function f(y){const v={...y,...i};we.promise(I(v),{pending:t("newForm.pending"),success:t("newForm.success"),error:t("newForm.fail")}),m("off")}async function I(y){const v=await g(y),te=await Promise.all(h.map(async(L,he)=>({BTPId:v,Item:he+1,CustId:await M(L.data.cus),TripEvent:L.data.purpose,Description:L.data.PS,Country:"DEU",Area:L.data.district,City:L.data.city,Hotel:L.data.hotel,StartDT:L.date[0],EndDT:L.date[L.date.length-1]})));C(te),s(v),p(),u(Se()),u(Ce()),m("off"),setTimeout(()=>{j("../")},1e3)}async function g(y){return await Q.postNewForm(y)}function C(y){Q.pushNewData(y)}b.useLayoutEffect(()=>{function y(v){v.preventDefault(),v.returnValue=""}return window.addEventListener("beforeunload",y),()=>window.removeEventListener("beforeunload",y)},[]),b.useEffect(()=>{if(h.length===0){if(w.tripData)return;c("tripData",{type:"custom",message:t("newForm.noData",{ns:"errors"})})}if(a.some(y=>y.data.length===0)){if(w.tripData)return;c("tripData",{type:"custom",message:t("newForm.lostData",{ns:"errors"})})}},[w,c,h,t,a]);function _(){D(),u(Ne(w)),V?m("on"):n("on")}return e.jsxs(e.Fragment,{children:[e.jsx(He,{}),e.jsx(me,{className:"main-section-gap",children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"top-btn-list",children:[e.jsx(Oe,{children:e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:_,children:e.jsx(O,{icon:e.jsx(Te,{size:"1.5rem",color:l.white}),primary:!0,children:t("btn.send",{ns:"new form"})})}),e.jsx("button",{type:"button",onClick:()=>{S("on")},children:e.jsx(O,{icon:e.jsx(Pe,{size:"1.5rem"}),children:t("btn.attach",{ns:"new form"})})})]})}),e.jsx("button",{type:"button",children:e.jsx(de,{to:"../",children:e.jsx(O,{icon:e.jsx(Le,{size:"1.25rem"}),children:t("btn.back",{ns:"new form"})})})})]}),e.jsx(Me,{...d,children:e.jsxs("form",{id:"business apply",onSubmit:N(f),className:"main-section-gap",children:[e.jsx(q,{children:e.jsx(Ue,{type:"addForm"})}),e.jsx(q,{children:e.jsx(Xe,{})}),e.jsx(st,{}),e.jsx(q,{children:e.jsx(Ze,{})}),e.jsx(q,{children:e.jsx(et,{})}),e.jsx(q,{children:e.jsx(ze,{type:"addForm"})})]})})]})})]})},nt=({className:l})=>{var M;const t=(M=z())==null?void 0:M.color,r=P(f=>f.time),a=P(f=>f.nowUser).body,{i18n:x,t:p}=k(["list page","common"]),i=x.language,{register:j,handleSubmit:u,control:s,setValue:h}=ue({shouldUnregister:!0,criteriaMode:"all",mode:"onChange",defaultValues:{dept:"",EmpId:a.EmpId,formStatus:"",date:{start:"",end:""}}}),m=X({name:"dept",control:s}),[n,S]=b.useState({from:"",to:""}),[o,d]=b.useState(),[F,N]=b.useState(!1),c=J();function D(f){c(ve(f)),c(Fe(f))}const{options:w}=Z(),{splitName:V}=re(),E=()=>{function f(){d(new Date(r.today))}return e.jsxs("span",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("p",{style:{margin:0,display:"flex",alignItems:"center"},children:"select 2 day"}),e.jsx("button",{type:"button",onClick:f,children:"Today"})]})};function A(f){S(f),Y(f==null?void 0:f.from)&&Y(f==null?void 0:f.to)&&(h("date",{start:R(f.from),end:R(f.to)}),N(!1))}return e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:u(D),style:{backgroundColor:t.headForm_bgc},className:`${l} flex flex-col items-center gap-4 rounded-xl px-16 py-4 md:flex-row`,children:[e.jsxs("div",{className:"form-body grid w-full gap-4",children:[e.jsxs("div",{className:"member label-input",children:[e.jsx("label",{children:p("label.member")}),e.jsxs("div",{className:"flex w-full flex-col gap-2 sm:flex-row",children:[e.jsx(H,{control:s,name:"dept",render:({field:{onChange:f}})=>e.jsx(U.Async,{options:w.dept,onChange:f,placeholder:p("placeholder.dept"),getLabelFunction:I=>i==="en"?I.DeptName_E:I.DeptName,getValueFunction:I=>I.DeptId,value:"DeptId"})}),e.jsx(H,{control:s,name:"EmpId",render:({field:{onChange:f}})=>e.jsx(U.Async,{options:w.member,onChange:f,placeholder:p("placeholder.emp"),getLabelFunction:I=>V(I),getValueFunction:I=>I.EmpId,value:"EmpId",filterFunction:I=>I.data.DeptId===m})})]})]}),e.jsxs("div",{className:"status label-input",children:[e.jsx("label",{children:p("label.status")}),e.jsx(H,{control:s,name:"formStatus",render:({field:{onChange:f}})=>e.jsx(U.Normal,{options:w.status,onChange:f,placeholder:p("placeholder.status")})})]}),e.jsxs("div",{className:"date label-input",children:[e.jsx("label",{children:p("label.date")}),e.jsxs("span",{className:"relative flex w-full flex-col items-center gap-2 sm:flex-row",children:[e.jsx("input",{className:"w-full",style:{cursor:"pointer",backgroundColor:t==null?void 0:t.white,color:t==null?void 0:t.black},autoComplete:"off",value:R(n==null?void 0:n.from),onClickCapture:()=>{N(f=>!f)},readOnly:!0,placeholder:p("placeholder.startDate")}),e.jsx("span",{className:"hidden sm:inline-block",children:"~"}),e.jsx("input",{className:"w-full",style:{cursor:"pointer",backgroundColor:t==null?void 0:t.white,color:t==null?void 0:t.black},autoComplete:"off",value:R(n==null?void 0:n.to),onClickCapture:()=>{N(f=>!f)},readOnly:!0,...j("date.end"),placeholder:p("placeholder.endDate")}),e.jsx(pe,{mode:"range",footer:e.jsx(E,{}),selected:n,onSelect:A,fromYear:2022,toYear:+r.thisYear+1,month:o,onMonthChange:d,captionLayout:"dropdown-buttons",style:{position:"absolute",top:"100%",right:0,zIndex:99,display:F?"block":"none",color:t==null?void 0:t.white},styles:{months:{backgroundColor:t==null?void 0:t.black},cell:{border:0}},modifiersStyles:{selected:{backgroundColor:t.blue}}})]})]})]}),e.jsx("button",{type:"submit",className:"p-0",children:e.jsx(O,{icon:e.jsx(_e,{color:t.white,size:"1.5rem"}),style:{backgroundColor:t.sectionHeader,color:t.white},children:p("search")})})]})})},rt=()=>{const{i18n:l}=k(),t=l.language,r=P(m=>m.listFormState),[a,x]=b.useState([]),p=r.status;function i(m){return new Date(m).getTime()}async function j(m){return await Q.getBusinessApplyDetail(m)}const{id2name:u}=re(),s=b.useCallback(m=>m.map(S=>!S.StartDT||!S.EndDT?[]:[R(S.StartDT.split(" ")[0]),R(S.EndDT.split(" ")[0])]),[]),h=b.useMemo(()=>{const{props:m,body:n}=r;async function S(){const o=M(n);if(!o)return[];const d=await Promise.all(o.map(async g=>await j(g.BTPId))),F=A(ae.atu),N=A(ae.oldCus),c=A(ae.newCus),D=d.map(g=>s(g)),w=await Promise.all(o.map(async(g,C)=>{var _,$,y,v;return{date:I(D[C]),formId:g.BTPId,atuNum:F[C],oldCusNum:N[C],newCusNum:c[C],EmpId:g.Createid,name:await u(g.Createid),formStatus:g.Status,nextSign:t==="en"?($=(_=g.SName)==null?void 0:_.split("/")[0])==null?void 0:$.replace(/ /g,""):(v=(y=g.SName)==null?void 0:y.split("/")[1])==null?void 0:v.replace(/ /g,"")}}));return f(w).reverse().map((g,C)=>({id:C+1,...g}));function A(g){return d.map(C=>C.filter(_=>_.TripEvent===g).length)}function M(g){return m.EmpId?g==null?void 0:g.filter(C=>C.Createid===m.EmpId):g}function f(g){return!m.date||!m.date.start||!m.date.end?g:g.filter(C=>i(m.date.start)<=i(C.date.start)&&i(C.date.end)<=i(m.date.end))}function I(g){const C=[...new Set(g.reduce((_,$)=>_.concat($),[]))];return{start:C[0],end:C[C.length-1]}}}return S()},[s,u,t,r]);return b.useEffect(()=>{(async function(){x(await h)})()},[h]),{data:a,status:p}},ot=B.createContext({}),fe=!0;function lt({baseColor:l,highlightColor:t,width:r,height:a,borderRadius:x,circle:p,direction:i,duration:j,enableAnimation:u=fe}){const s={};return i==="rtl"&&(s["--animation-direction"]="reverse"),typeof j=="number"&&(s["--animation-duration"]=`${j}s`),u||(s["--pseudo-element-display"]="none"),(typeof r=="string"||typeof r=="number")&&(s.width=r),(typeof a=="string"||typeof a=="number")&&(s.height=a),(typeof x=="string"||typeof x=="number")&&(s.borderRadius=x),p&&(s.borderRadius="50%"),typeof l<"u"&&(s["--base-color"]=l),typeof t<"u"&&(s["--highlight-color"]=t),s}function ct({count:l=1,wrapper:t,className:r,containerClassName:a,containerTestId:x,circle:p=!1,style:i,...j}){var u,s,h;const m=B.useContext(ot),n={...j};for(const[D,w]of Object.entries(j))typeof w>"u"&&delete n[D];const S={...m,...n,circle:p},o={...i,...lt(S)};let d="react-loading-skeleton";r&&(d+=` ${r}`);const F=(u=S.inline)!==null&&u!==void 0?u:!1,N=[],c=Math.ceil(l);for(let D=0;D<c;D++){let w=o;if(c>l&&D===c-1){const E=(s=w.width)!==null&&s!==void 0?s:"100%",A=l%1,M=typeof E=="number"?E*A:`calc(${E} * ${A})`;w={...w,width:M}}const V=B.createElement("span",{className:d,style:w,key:D},"‌");F?N.push(V):N.push(B.createElement(B.Fragment,{key:D},V,B.createElement("br",null)))}return B.createElement("span",{className:a,"data-testid":x,"aria-live":"polite","aria-busy":(h=S.enableAnimation)!==null&&h!==void 0?h:fe},t?N.map((D,w)=>B.createElement(t,{key:w},D)):N)}const it=()=>e.jsx(ct,{count:1,height:"3rem"}),dt=l=>{const{children:t,status:r}=l;return r==="loading"?e.jsx("tbody",{children:e.jsx("tr",{children:e.jsx("td",{colSpan:100,className:"p-1",children:e.jsx(it,{})})})}):e.jsx("tbody",{children:t})},ut=(l,t)=>{const[r,a]=b.useState(1),x=Math.ceil(l.length/t),[p,i]=b.useState(!0),[j,u]=b.useState(!0),s={prev:p,next:j};b.useEffect(()=>{u(r!==x),i(r!==1),x===0&&(i(!1),u(!1))},[r,x]);function h(){j&&a(o=>o+1)}function m(){p&&a(o=>o-1)}function n(o=1){o>x?a(x):a(o)}return{dataInThisPage:b.useMemo(()=>{const o=(r-1)*t,d=o+t;return l.slice(o,d)},[r,t,l]),nextPage:h,prevPage:m,buttonStatus:s,gotoPage:n}},ne=l=>{const{date:t}=l;return e.jsx("span",{style:{whiteSpace:"nowrap"},children:t})},mt=()=>{var m;const l=(m=z())==null?void 0:m.color,{t}=k("list page"),r=P(n=>n.nowUser).body,{data:a,status:x}=rt(),p=10,{dataInThisPage:i,nextPage:j,prevPage:u,buttonStatus:s}=ut(a,10),{getFormStatus:h}=Ye();return e.jsxs(e.Fragment,{children:[e.jsx(Re,{children:e.jsxs("table",{children:[e.jsx("thead",{style:{backgroundColor:l.sectionHeader,color:l.white},children:e.jsxs("tr",{children:[e.jsx("th",{children:t("thead.id")}),e.jsx("th",{children:t("thead.date")}),e.jsx("th",{children:t("thead.BTPId")}),e.jsx("th",{children:t("thead.atu")}),e.jsx("th",{children:t("thead.oldCus")}),e.jsx("th",{children:t("thead.newCus")}),e.jsx("th",{children:t("thead.createId")}),e.jsx("th",{children:t("thead.status")}),e.jsx("th",{children:t("thead.nextSigner")})]})}),e.jsx(dt,{status:x,children:e.jsx(e.Fragment,{children:i.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,children:"no data"})}):i.map(n=>e.jsxs("tr",{children:[e.jsx("td",{children:n.id}),e.jsx("td",{children:!n.date.start||!n.date.end?e.jsx(e.Fragment,{children:" - "}):n.date.start===n.date.end?e.jsx(ne,{date:n.date.start}):e.jsxs("div",{className:"flex flex-wrap justify-center gap-1",children:[e.jsx(ne,{date:n.date.start}),"~",e.jsx(ne,{date:n.date.end})]})}),e.jsx("td",{children:e.jsx(de,{to:`../sign/${n.formId}/?userID=${r.EmpId}`,target:"__blank",style:{cursor:"pointer"},children:n.formId})}),e.jsx("td",{children:n.atuNum}),e.jsx("td",{children:n.oldCusNum}),e.jsx("td",{children:n.newCusNum}),e.jsx("td",{children:n.name}),e.jsx("td",{children:h(n.formStatus)}),e.jsx("td",{children:n.nextSign||"-"})]},n.id))})})]})}),e.jsxs("div",{className:"flex justify-center gap-4",style:{display:a.length<=p?"none":"flex"},children:[e.jsx(le,{type:"prev",onClick:u,disabled:!s.prev}),e.jsx(le,{type:"next",onClick:j,disabled:!s.next})]})]})},pt=()=>{var r;const l=(r=z())==null?void 0:r.color,{t}=k(["list page"]);return e.jsx(me,{className:"main-section-gap",children:e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"top-btn-list",children:e.jsx(Ie,{to:"add",children:e.jsx(O,{primary:!0,icon:e.jsx(Be,{size:"1.5rem",color:l.white}),children:t("create new form")})})}),e.jsx(nt,{}),e.jsx(mt,{})]})})},vt=()=>{const{t:l}=k("common");return e.jsxs(e.Fragment,{children:[e.jsx(Ke,{title:l("title.businessTripApply")}),e.jsx(b.Suspense,{fallback:e.jsx("h1",{children:"啊我還在跑..."}),children:e.jsxs(ke,{children:[e.jsx(oe,{index:!0,element:e.jsx(pt,{})}),e.jsx(oe,{path:"add",element:e.jsx(at,{})})]})})]})};export{vt as default};
