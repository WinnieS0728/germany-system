import{n as L,H as $,b as v,a as B,r as H,j as r,B as I}from"./index-64ebcfb1.js";import{u as V,a as w,A}from"./react-select-async.esm-16a81a21.js";import{c as F,C as N,L as d}from"./index.esm-8e5cdf44.js";import{a as p,c as R}from"./popup-b0faad0b.js";import{c as D,e as _,a as z,o as T}from"./index.esm-3c48b9ce.js";import{u as W}from"./sign-2f10bb49.js";import{u as q}from"./status translate-8e2cd280.js";import"./use-isomorphic-layout-effect.browser.esm-0c3ad381.js";import"./main-95402293.js";import"./data-2569dfeb.js";const G=({className:s})=>{var u;const n=(u=$())==null?void 0:u.color,{t:a}=v(["sign","errors"]),{options:g}=V(),{otherSignRef:i}=w(),{splitName:f}=q(),h=B(),{otherSign:S}=W(),[b]=p("errors"),[c]=p("otherSign"),x=D().shape({member:_().of(z()).min(1,a("otherSign.noMember",{ns:"errors"}))}),{handleSubmit:O,control:j,trigger:m,reset:y,formState:{errors:C,isValid:k}}=F({mode:"onSubmit",criteriaMode:"all",resolver:T(x),defaultValues:{member:[]}});function E(o){var e;M(o.member),c("off"),(e=i.current)==null||e.clearValue(),y()}async function M(o){S(o)}return H.useEffect(()=>{m()},[m]),r.jsxs("article",{className:R("modal space-y-4",s),children:[r.jsx("h3",{children:a("otherSign.title",{ns:"sign"})}),r.jsx("form",{id:"otherSign",onSubmit:O(E),onReset:()=>{var o;(o=i.current)==null||o.clearValue(),c("off")},children:r.jsx(N,{control:j,name:"member",render:({field:{onChange:o}})=>r.jsx(A,{ref:i,loadOptions:g.otherSign,defaultOptions:!0,cacheOptions:!0,menuIsOpen:!0,onChange:e=>{const t=e.map(l=>l.EmpId);o(t)},closeMenuOnSelect:!1,isMulti:!0,placeholder:a("otherSign.placeholder",{ns:"sign"}),hideSelectedOptions:!1,getOptionLabel:e=>f(e),getOptionValue:e=>e.EmpId,filterOption:(e,t)=>t.startsWith("!")?!0:!!(e.data.FullName.toLowerCase().includes(t.toLowerCase())||e.data.EmpId.includes(t)),styles:{menu:e=>({...e,position:"relative"}),menuList:e=>({...e,maxHeight:"20rem"}),groupHeading:e=>({...e,textAlign:"center",backgroundColor:n.sectionHeader,color:n.white,paddingBlock:".5rem"}),option:(e,{isSelected:t,isFocused:l})=>({...e,backgroundColor:t?n.green:l?"#B2D4FF":void 0,color:n.black}),indicatorsContainer:e=>({...e,display:"none"})}})})}),r.jsxs("div",{className:"submit-btns",children:[r.jsx(d,{type:"submit",style:"confirm",form:"otherSign",onClick:()=>{k||(h(I(C)),b("on"))}}),r.jsx(d,{type:"reset",style:"cancel",form:"otherSign"})]})]})},re=L(G)`
    background-color: ${s=>s.theme.color.white};

    h3{
        text-align: center;
        font-size: 1.25rem;
        padding: 0.5rem;
        background-color: ${s=>s.theme.color.sign_header};
    }
`;export{re as default};
